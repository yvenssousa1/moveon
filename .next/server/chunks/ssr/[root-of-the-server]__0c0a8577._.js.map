{"version":3,"sources":["../../../../../../Documents/MoveOn/Next.js/components/ExerciciosEvolutivos.js","../../../../../../Documents/MoveOn/Next.js/lib/supabaseClient.js"],"sourcesContent":["\r\nimport { useEffect, useState } from 'react';\r\nimport { supabase } from '../lib/supabaseClient';\r\n\r\nconst hipotesesPorArea = {\r\n  joelho: [\r\n    { nome: 'Condromalácia patelar', criterio: (fase, dor, dificuldade) => fase === 1 && dor },\r\n    { nome: 'Lesão meniscal', criterio: (fase, dor, dificuldade) => fase === 2 && dificuldade },\r\n    { nome: 'Tendinite patelar', criterio: (fase, dor, dificuldade) => fase === 3 && dor },\r\n  ],\r\n  ombro: [\r\n    { nome: 'Bursite Subacromial', criterio: (fase, dor, dificuldade) => fase === 1 && dor },\r\n    { nome: 'Tendinite do Manguito', criterio: (fase, dor, dificuldade) => fase === 2 && dor },\r\n    { nome: 'Capsulite Adesiva', criterio: (fase, dor, dificuldade) => fase === 3 && dificuldade },\r\n  ],\r\n  coluna: [\r\n    { nome: 'Hérnia de Disco', criterio: (fase, dor, dificuldade) => fase === 1 && dor },\r\n    { nome: 'Lombalgia Mecânica', criterio: (fase, dor, dificuldade) => fase === 2 && dificuldade },\r\n    { nome: 'Cervicalgia', criterio: (fase, dor, dificuldade) => fase === 3 && dor },\r\n  ],\r\n  // ...adicione para outras áreas...\r\n};\r\n\r\nexport default function ExerciciosEvolutivos({ area }) {\r\n  const [fase, setFase] = useState(1);\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showPergunta, setShowPergunta] = useState(false);\r\n  const [resposta, setResposta] = useState({ dor: null, dificuldade: null });\r\n  const [hipotese, setHipotese] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchVideos() {\r\n      setLoading(true);\r\n      const { data } = await supabase\r\n        .from('videos_exercicios')\r\n        .select('*')\r\n        .eq('area', area)\r\n        .eq('fase', fase);\r\n      setVideos(data || []);\r\n      setLoading(false);\r\n    }\r\n    fetchVideos();\r\n    setShowPergunta(false);\r\n    setResposta({ dor: null, dificuldade: null });\r\n    setHipotese(null);\r\n  }, [area, fase]);\r\n\r\n  const avancarFase = () => {\r\n    setFase(f => f + 1);\r\n  };\r\n  const voltarFase = () => setFase(f => (f > 1 ? f - 1 : 1));\r\n\r\n  const handleResponder = (dor, dificuldade) => {\r\n    setResposta({ dor, dificuldade });\r\n    // Verifica hipóteses para a área\r\n    const hipots = hipotesesPorArea[area] || [];\r\n    const encontrada = hipots.find(h => h.criterio(fase, dor, dificuldade));\r\n    setHipotese(encontrada ? encontrada.nome : null);\r\n    setShowPergunta(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto p-4\">\r\n      <h2 className=\"text-2xl font-bold mb-4 text-center\">Exercícios Evolutivos - {area.charAt(0).toUpperCase() + area.slice(1)}</h2>\r\n      <div className=\"flex justify-center gap-4 mb-4\">\r\n        <button onClick={voltarFase} disabled={fase === 1} className=\"px-4 py-2 bg-gray-200 rounded disabled:opacity-50\">Voltar</button>\r\n        <span className=\"font-semibold\">Fase {fase}</span>\r\n        <button onClick={() => setShowPergunta(true)} className=\"px-4 py-2 bg-blue-500 text-white rounded\">Avançar</button>\r\n      </div>\r\n      {loading ? (\r\n        <div className=\"text-center\">Carregando...</div>\r\n      ) : videos.length === 0 ? (\r\n        <div className=\"text-center\">Nenhum vídeo para esta fase.</div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          {videos.map(video => (\r\n            <div key={video.id} className=\"bg-white rounded-lg shadow p-4 flex flex-col items-center\">\r\n              <iframe\r\n                width=\"100%\"\r\n                height=\"200\"\r\n                src={video.url}\r\n                title={video.titulo}\r\n                frameBorder=\"0\"\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                allowFullScreen\r\n                className=\"mb-2 rounded\"\r\n              ></iframe>\r\n              <h3 className=\"font-semibold text-lg mb-1\">{video.titulo}</h3>\r\n              <p className=\"text-gray-600 text-sm mb-2\">{video.descricao}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {/* Pergunta adaptativa */}\r\n      {showPergunta && (\r\n        <div className=\"mt-8 p-6 bg-blue-50 rounded-xl shadow text-center animate-fade-in\">\r\n          <h4 className=\"font-semibold mb-4\">Após tentar os exercícios, você sentiu:</h4>\r\n          <div className=\"flex flex-col md:flex-row gap-4 justify-center\">\r\n            <button onClick={() => handleResponder(true, false)} className=\"px-6 py-3 bg-red-500 text-white rounded-xl font-bold\">Dor</button>\r\n            <button onClick={() => handleResponder(false, true)} className=\"px-6 py-3 bg-yellow-400 text-white rounded-xl font-bold\">Dificuldade</button>\r\n            <button onClick={() => handleResponder(false, false)} className=\"px-6 py-3 bg-green-500 text-white rounded-xl font-bold\">Nenhum dos dois</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Hipótese sugerida */}\r\n      {hipotese && (\r\n        <div className=\"mt-8 p-6 bg-indigo-100 rounded-xl shadow text-center animate-fade-in\">\r\n          <h4 className=\"font-bold text-indigo-800 mb-2\">Hipótese sugerida:</h4>\r\n          <div className=\"text-lg font-semibold text-indigo-900\">{hipotese}</div>\r\n          <div className=\"mt-4\">\r\n            <button onClick={avancarFase} className=\"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold\">Avançar para próxima fase</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","// Supabase client para uso global no MoveOn\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://SEU-PROJETO.supabase.co';\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 'SUA-CHAVE-ANON';\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":"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"}